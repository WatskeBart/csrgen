<!DOCTYPE html>
<html>
<head>
    <title>CSR Generator</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <div class="header-container">
        <div class="title-container">
            <div class="logo">
                <img src="/static/images/logo.png" alt="CSR Generator Logo">
            </div>
            <h1>CSR Generator</h1>
            <span class="version">v{{.Version}}</span>
        </div>
        <div class="controls-wrapper">
            <div class="switch-wrapper">
                <label class="switch">
                    <input type="checkbox" id="advanced-toggle">
                    <span class="slider round"></span>
                </label>
                <span data-i18n="advanced">Advanced</span>
            </div>
            <div class="switch-wrapper">
                <label class="switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider round"></span>
                </label>
                <span data-i18n="darkMode">Dark Mode</span>
            </div>
            <div>
                <select id="langSelect">
                    <option value="en">English</option>
                    <option value="nl">Nederlands</option>
                </select>
            </div>
        </div>
    </div>
    <form id="csrForm">
        <div class="form-group" data-i18n="commonName">
            <label>Common Name:
                <small class="subtext">Fully qualified domain name (e.g., www.example.com)</small>
            </label>
            <input type="text" name="commonName" required>
        </div>
        <div class="form-group" data-i18n="organization">
            <label>Organization:
                <small class="subtext">Legal name of your organization</small>
            </label>
            <input type="text" name="organization" required>
        </div>
        <div class="form-group" data-i18n="organizationalUnit">
            <label>Organizational Unit:
                <small class="subtext">Department or division name (optional)</small>
            </label>
            <input type="text" name="organizationalUnit">
        </div>
        <div class="form-group" data-i18n="country">
            <label>Country (2 letters):
                <small class="subtext">Two-letter country code (e.g., US, GB)</small>
            </label>
            <input type="text" name="country" maxlength="2" required>
        </div>
        <div class="form-group" data-i18n="state">
            <label>State:
                <small class="subtext">Full state or province name</small>
            </label>
            <input type="text" name="state" required>
        </div>
        <div class="form-group" data-i18n="locality">
            <label>Locality:
                <small class="subtext">City or town name</small>
            </label>
            <input type="text" name="locality" required>
        </div>
        <div class="form-group" data-i18n="emailAddress">
            <label>Email Address:
                <small class="subtext">Administrative contact email</small>
            </label>
            <input type="email" name="emailAddress" required>
        </div>
        <div class="form-group advanced-field" style="display: none" data-i18n="keyType">
            <label>Key Type:
                <small class="subtext">Choose encryption algorithm type</small>
            </label>
            <select name="keyType" required>
                <option value="RSA">RSA</option>
                <option value="ECDSA">ECDSA</option>
            </select>
        </div>
        <div class="form-group advanced-field" style="display: none" data-i18n="keySize">
            <label>Key Size:
                <small class="subtext">Encryption key length</small>
            </label>
            <select name="keySize" required>
                <option value="2048">2048 (RSA)</option>
                <option value="3072">3072 (RSA)</option>
                <option value="4096">4096 (RSA)</option>
                <option value="256">P-256 (ECDSA)</option>
                <option value="384">P-384 (ECDSA)</option>
                <option value="521">P-521 (ECDSA)</option>
            </select>
        </div>
        <div class="form-group advanced-field" style="display: none" data-i18n="signatureAlgorithm">
            <label>Signature Algorithm:
                <small class="subtext">Certificate signing algorithm</small>
            </label>
            <select name="signatureAlgorithm" required>
                <option value="SHA256WithRSA">SHA256WithRSA</option>
                <option value="SHA384WithRSA">SHA384WithRSA</option>
                <option value="SHA512WithRSA">SHA512WithRSA</option>
                <option value="ECDSAWithSHA256">ECDSAWithSHA256</option>
                <option value="ECDSAWithSHA384">ECDSAWithSHA384</option>
                <option value="ECDSAWithSHA512">ECDSAWithSHA512</option>
            </select>
        </div>
        <div class="form-group advanced-field" style="display: none" data-i18n="dnsNames">
            <label>DNS Names:
                <small class="subtext">Additional domain names (one per line)</small>
            </label>
            <textarea name="dnsNames" rows="3"></textarea>
        </div>
        <div class="form-group advanced-field" style="display: none" data-i18n="ipAddresses">
            <label>IP Addresses:
                <small class="subtext">Additional IP addresses (one per line)</small>
            </label>
            <textarea name="ipAddresses" rows="3"></textarea>
        </div>
        <button type="submit" data-i18n="generate">Generate CSR</button>
    </form>
    <div id="result" style="display:none;">
        <h2 data-i18n="generatedCSR">Generated CSR:</h2>
        <div class="pre-container">
            <pre id="csrText"></pre>
            <button class="copy-button" onclick="copyToClipboard('csrText')">
                <span class="copy-icon">üìã</span>
                <span data-i18n="copy">Copy</span>
            </button>
            <button class="download-button" onclick="downloadFile('csrText', 'certificate.req')">
                <span class="download-icon">‚¨áÔ∏è</span>
                <span data-i18n="download">Download</span>
            </button>
        </div>    
        <h2 data-i18n="privateKey">Private Key:</h2>
        <div class="pre-container">
            <pre id="privateKeyText"></pre>
            <button class="copy-button" onclick="copyToClipboard('privateKeyText')">
                <span class="copy-icon">üìã</span>
                <span data-i18n="copy">Copy</span>
            </button>
            <button class="download-button" onclick="downloadFile('privateKeyText', 'private.key')">
                <span class="download-icon">‚¨áÔ∏è</span>
                <span data-i18n="download">Download</span>
            </button>
        </div>
    </div>
    <script src="/static/js/main.js"></script>
</body>
</html>